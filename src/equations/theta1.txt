ddtheta1 = (4 * (g * (4 * m1 + 3 * m2 + 2 * m2 * cos(2 * theta2) * cos(phi1 - phi2)^2 - m2 * cos(2 * (phi1 - phi2))) * sin(theta1) 
- 2 * g * m2 * cos(theta1) * cos(phi1 - phi2) * sin(2 * theta2) + r * (-m2 * (cos(theta1) * cos(2 theta2) * (3 + cos(2 * (phi1 - phi2))) * sin(theta1) 
- 2 * cos(2 * theta1) * cos(phi1 - phi2) * sin(2 * theta2) + sin(2 * theta1) * sin(phi1 - phi2)^2) * dtheta1^2 + 4 * m2 * (-cos(theta2) * sin(theta1) 
+ cos(theta1) * cos(phi1 - phi2) * sin(theta2)) * dtheta2^2 + ((2 * m1 + m2 - m2 * cos(2 * theta2)) * sin(2 * theta1) 
- 2 * m2 * cos(phi1 - phi2) * sin(theta1)^2 * sin(2 * theta2)) * dphi1^2 + 4 * m2 * sin(theta2)^2 * (-cos(theta2) * sin(theta1) 
+ cos(theta1) * cos(phi1 - phi2) * sin(theta2)) * dphi2^2)))
/(r * (2 * (8 * m1 + 5 * m2) - m2 * (2 * cos(2 * theta1) + 3 * cos(2 * (theta1 - theta2)) + 2 * cos(2 * theta2) 
+ 3 * cos(2 * (theta1 + theta2)) + 8 * cos(2 * (phi1 - phi2)) * sin(theta1)^2 * sin(theta2)^2 + 8 * cos(phi1 - phi2) * sin(2 theta1) * sin(2 theta2))))